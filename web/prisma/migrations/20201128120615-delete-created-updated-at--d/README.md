# Migration `20201128120615-delete-created-updated-at--d`

This migration has been generated by marulloc at 11/28/2020, 9:06:15 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `Albums` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Albums_Genres` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Artists` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Artists_Genres` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Artists_Tracks` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `DJStations` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Genres` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Magazines` DROP COLUMN `updatedAt`

ALTER TABLE `News` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Playlists` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Playlists_Tracks` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Tracks` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Tracks_Genres` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Users` DROP COLUMN `createdAt`,
    DROP COLUMN `updatedAt`

ALTER TABLE `Users_Like_Albums` DROP COLUMN `liked`,
    ADD COLUMN     `userId` INT,
    ADD COLUMN     `albumId` INT

ALTER TABLE `Users_Like_Artists` DROP COLUMN `liked`,
    ADD COLUMN     `userId` INT,
    ADD COLUMN     `artistId` INT

ALTER TABLE `Users_Like_Tracks` DROP COLUMN `liked`,
    ADD COLUMN     `userId` INT,
    ADD COLUMN     `trackId` INT

CREATE TABLE `Users_Likes_Playlists` (
    `id` INT NOT NULL AUTO_INCREMENT,
    `userId` INT,
    `playlistId` INT,

    PRIMARY KEY (`id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

DROP TABLE `Users_Playlists`

ALTER TABLE `Users_Likes_Playlists` ADD FOREIGN KEY (`userId`) REFERENCES `Users`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Likes_Playlists` ADD FOREIGN KEY (`playlistId`) REFERENCES `Playlists`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Like_Albums` ADD FOREIGN KEY (`userId`) REFERENCES `Users`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Like_Albums` ADD FOREIGN KEY (`albumId`) REFERENCES `Albums`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Like_Artists` ADD FOREIGN KEY (`userId`) REFERENCES `Users`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Like_Artists` ADD FOREIGN KEY (`artistId`) REFERENCES `Artists`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Like_Tracks` ADD FOREIGN KEY (`userId`) REFERENCES `Users`(`id`) ON DELETE SET NULL ON UPDATE CASCADE

ALTER TABLE `Users_Like_Tracks` ADD FOREIGN KEY (`trackId`) REFERENCES `Tracks`(`id`) ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201128120333-add-relation-with-user---album---artist---track---playlist..20201128120615-delete-created-updated-at--d
--- datamodel.dml
+++ datamodel.dml
@@ -3,18 +3,16 @@
 }
 datasource db {
   provider = "mysql"
-  url = "***"
+  url = "***"
 }
 model Users {
   id        Int         @id @default(autoincrement())
   username  String
   password  String
   oAuth     String?
-  createdAt DateTime
-  updatedAt DateTime
   Playlists Playlists[]
   @@unique(fields: [username, password], name: "user")
 }
@@ -23,10 +21,8 @@
   id          Int      @id @default(autoincrement())
   albumName   String?
   description String?
   cover       String?
-  createdAt   DateTime
-  updatedAt   DateTime
   artistId    Int?
   Artists     Artists? @relation(fields: [artistId], references: [id])
   Tracks      Tracks[]
   Albums_Genres Albums_Genres[]
@@ -34,10 +30,8 @@
 }
 model Albums_Genres {
   id        Int      @id @default(autoincrement())
-  createdAt DateTime
-  updatedAt DateTime
   albumId   Int?
   genreId   Int?
   Albums    Albums?  @relation(fields: [albumId], references: [id])
   Genres    Genres?  @relation(fields: [genreId], references: [id])
@@ -49,19 +43,15 @@
 model Artists {
   id             Int              @id @default(autoincrement())
   artistName     String?
   cover          String?
-  createdAt      DateTime
-  updatedAt      DateTime
   Albums         Albums[]
   Artists_Tracks Artists_Tracks[]
   Artists_Genres Artists_Genres[]
 }
 model Artists_Genres {
   id        Int      @id @default(autoincrement())
-  createdAt DateTime
-  updatedAt DateTime
   artistId  Int?
   genreId   Int?
   Artists   Artists?  @relation(fields: [artistId], references: [id])
   Genres    Genres?  @relation(fields: [genreId], references: [id])
@@ -71,10 +61,8 @@
 }
 model Artists_Tracks {
   id        Int      @id @default(autoincrement())
-  createdAt DateTime
-  updatedAt DateTime
   trackId   Int?
   artistId  Int?
   Artists   Artists? @relation(fields: [artistId], references: [id])
   Tracks    Tracks?  @relation(fields: [trackId], references: [id])
@@ -87,18 +75,14 @@
   id          Int      @id @default(autoincrement())
   stationName String?
   cover       String?
   popularity  Int?
-  createdAt   DateTime
-  updatedAt   DateTime
 }
 model Genres {
   id         Int      @id @default(autoincrement())
   genreName  String?
   popularity Int?
-  createdAt  DateTime
-  updatedAt  DateTime
   Tracks_Genres Tracks_Genres[]
   Albums_Genres Albums_Genres[]
   Artists_Genres Artists_Genres[]
 }
@@ -108,9 +92,8 @@
   magazineName String?
   magazineType String?
   description  String?
   createdAt    DateTime
-  updatedAt    DateTime
   playlistId   Int?
   Playlists    Playlists? @relation(fields: [playlistId], references: [id])
   @@index([playlistId], name: "Magazines_playlistId_foreign_idx")
@@ -120,10 +103,8 @@
   id          Int        @id @default(autoincrement())
   newsName    String?
   type        String?
   description String?
-  createdAt   DateTime
-  updatedAt   DateTime
   playlistId  Int?
   Playlists   Playlists? @relation(fields: [playlistId], references: [id])
   @@index([playlistId], name: "News_playlistId_foreign_idx")
@@ -133,10 +114,8 @@
   id               Int                @id @default(autoincrement())
   playlistName     String?
   description      String?
   cover            String?
-  createdAt        DateTime
-  updatedAt        DateTime
   author           Int?
   Users            Users?             @relation(fields: [author], references: [id])
   Magazines        Magazines[]
   News             News[]
@@ -147,10 +126,8 @@
 model Playlists_Tracks {
   id                  Int        @id @default(autoincrement())
   playlistTrackNumber Int?
-  createdAt           DateTime
-  updatedAt           DateTime
   playlistId          Int?
   trackId             Int?
   Playlists           Playlists? @relation(fields: [playlistId], references: [id])
   Tracks              Tracks?    @relation(fields: [trackId], references: [id])
@@ -162,10 +139,8 @@
 model Tracks {
   id               Int                @id @default(autoincrement())
   trackName        String?
   albumTrackNumber Int?
-  createdAt        DateTime
-  updatedAt        DateTime
   albumId          Int?
   Albums           Albums?            @relation(fields: [albumId], references: [id])
   Artists_Tracks   Artists_Tracks[]
   Playlists_Tracks Playlists_Tracks[]
@@ -175,10 +150,8 @@
 }
 model Tracks_Genres {
   id        Int      @id @default(autoincrement())
-  createdAt DateTime
-  updatedAt DateTime
   trackId   Int?
   genreId   Int?
   Tracks    Tracks?  @relation(fields: [trackId], references: [id])
   Genres    Genres?  @relation(fields: [genreId], references: [id])
```


